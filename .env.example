# ==============================================================================
# MEDI-MINDER API - ENVIRONMENT CONFIGURATION
# ==============================================================================
# Copy this file to .env and fill in your actual values
# Command: cp .env.example .env (Linux/Mac) or copy .env.example .env (Windows)
# ==============================================================================

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
# PostgreSQL connection string for async operations
# Format: postgresql+asyncpg://username:password@host:port/database
# For Docker: Use service name as host (e.g., 'db')
# For local: Use 'localhost'
DATABASE_URL=postgresql+asyncpg://medieminder:medieminder@db:5432/medieminder

# ==============================================================================
# SECURITY & AUTHENTICATION
# ==============================================================================
# JWT Secret Key - CHANGE THIS IN PRODUCTION!
# Generate with: openssl rand -hex 32
SECRET_KEY=your-super-secret-jwt-key-change-this-in-production-min-32-chars

# JWT Algorithm (HS256 recommended)
ALGORITHM=HS256

# Token expiration times
ACCESS_TOKEN_EXPIRE_MINUTES=1440
REFRESH_TOKEN_EXPIRE_DAYS=7
PASSWORD_RESET_TOKEN_EXPIRE_MINUTES=15

# ==============================================================================
# REDIS CONFIGURATION
# ==============================================================================
# Redis connection URL for caching and rate limiting
# For Docker: Use service name as host (e.g., 'redis')
# For local: Use 'localhost'
REDIS_URL=redis://redis:6379

# Rate limiting configuration
MAX_ATTEMPTS_PER_EMAIL=3
MAX_ATTEMPTS_PER_IP=10
WINDOW_HOURS=1
COOLDOWN_MINUTES=15

# ==============================================================================
# EMAIL CONFIGURATION (For password reset emails)
# ==============================================================================
# Email provider credentials (Gmail example)
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-specific-password
MAIL_FROM=your-email@gmail.com
MAIL_FROM_NAME=Medi-Minder
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_STARTTLS=true
MAIL_SSL_TLS=false
USE_CREDENTIALS=true
VALIDATE_CERTS=true

# ==============================================================================
# SMS CONFIGURATION (Africa's Talking)
# ==============================================================================
# Sign up at: https://africastalking.com/
AT_API_KEY=your-africas-talking-api-key
AT_USERNAME=your-africas-talking-username
AT_SENDER_ID=your-sender-id
AT_ENV=sandbox
# Options: sandbox or production

# ==============================================================================
# FRONTEND CONFIGURATION
# ==============================================================================
# Frontend URL for CORS and email links
FRONTEND_URL=http://localhost:3000

# ==============================================================================
# APPLICATION SETTINGS
# ==============================================================================
# Project name
PROJECT_NAME=Medi-Minder API

# Debug mode (set to false in production)
DEBUG=true

# ==============================================================================
# OPTIONAL: FIREBASE CONFIGURATION
# ==============================================================================
# Place your serviceAccountKey.json in the root directory
# No environment variable needed - auto-detected by the app

# ==============================================================================
# DOCKER-SPECIFIC CONFIGURATION
# ==============================================================================
# PostgreSQL credentials (used by docker-compose)
POSTGRES_USER=medieminder
POSTGRES_PASSWORD=medieminder
POSTGRES_DB=medieminder

# ==============================================================================
# NOTES
# ==============================================================================
# 1. Never commit the .env file to version control (it's in .gitignore)
# 2. For Gmail: Enable 2FA and create an App Password
#    Guide: https://support.google.com/accounts/answer/185833
# 3. Generate strong SECRET_KEY: openssl rand -hex 32
# 4. For production, use strong passwords for POSTGRES_PASSWORD
# 5. Set DEBUG=false in production
# ==============================================================================
